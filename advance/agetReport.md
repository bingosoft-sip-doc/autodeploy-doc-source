## 变量上报

变量上报机制主要用于在脚本执行的过程中将采集到的变量信息上报到整个任务作用域的变量池中，供同方案中其他脚本或后续运维方案中的脚本使用。

### 使用场景

变量上报机制的引入主要为了解决获取在运行中动态产生的变量，有但不限于如下场景

1. 在单台机器上的多个脚本之间
2. 多级之间的多个脚本之间
3. 运维方案使用原有环境中的变量信息

### 如何使用

在脚本中，输出如下命令即可进行变量上报

```
...
echo @Param[key1=value1]
...
echo @Param[key2=value2]
```

在需要使用的地方，直接使用自动化部署体系的变量机制即可，如上述的变量其应用为

 `echo ${key1}  // value1``echo ${key2}  // value2`

## 执行进度上报

执行进度上报用于对整个部署任务的进度进行精确控制，如果是一个较耗时的任务，其执行需要消耗较长的时间，此时如果方案的开发者在脚本执行到某个环节时告诉SIP当前脚本的进度相关信息，配合SIP中部署任务的管理界面显示，那么体验会是相当好的。

### 使用场景

耗时任务的精度精确上报

### 如何使用

在脚本的某一行，输出如下命令即可

 `````
...
echo @Progress[percent=10]
...
echo @Progress[percent=46]
 `````

# 