#### vmware自动化部署注意事项

##### 镜像必须配置默认密码

vmware与KVM的区别在于，KVM使用部署Agent进行指令下发，vmware采用自带的vmtools进行指令下发，所以需要知道镜像的默认密码。

##### vmware无法下载文件

vmware由于使用vmtools下发指令，不要求访问169.254和SIP的8301端口，但是SIP自带的下载文件端口依旧会使用，需要打通虚拟机和SIP的8201端口的连通。

##### vmware无法保证所有虚拟机访问SIP的8201端口下载文件

在vmware的环境中，可能存在不同的网段，网络隔离。这种情况下，可能会给每个网段一个文件下载的代理地址。可以结合CMDB，根据不同的网段下发不同的文件服务器地址，实现全网段的文件下载。

##### vmwareIP冲突导致指令下发失败

由于静态IP池规划问题，导致IP冲突的情况，会使得vmtools下发指令失败。

##### 虚拟机密码策略导致指令下发失败

如果设置了虚拟机首次登陆必须修改密码的策略，会导致下发指令失败，出现SystemError.

